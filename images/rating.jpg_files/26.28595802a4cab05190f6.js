(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{317:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return u});var n=a(25),o=a(0),i=a(3),r=a(13),l=a(14),c=a(7),s=a(28),d=a(6),u=function(){function e(){}return e.init=function(){this.setCheckedPackviewFilterInput(),this.setCheckedPopooverEquivalentsInput(),this.handleFiltersEvents()},e.handleFiltersEvents=function(){this.loadPackEquivalent(),this.setDefaultMostDownloadPage(),this.setDefaultLatestIconsPage(),this.sendEventScrollSearchRelatedPack(),this.handleFilterOrder(),this.queryStringToForm(),this.setCookieFlaticonSelection(),this.searchInPack(),this.handleSortByTitle()},e.setCheckedPackviewFilterInput=function(){var e=this;this.allPackviewFilterInputs.length>0&&(this.packId=document.getElementById("pack_id"));var t=this.packId&&this.packId.value?this.allPackviewFilterInputs.find(function(t){return t.value===e.packId.value}):null;t&&(t.checked=!0)},e.setCheckedPopooverEquivalentsInput=function(){var e=this.popoverEquivalentsElement&&this.mainsearchStyleIdElement?this.popoverEquivalentsElement.querySelector('input[data-styleid="'+this.mainsearchStyleIdElement.value+'"]'):null;e&&(e.checked=!0)},e.setInputParameter=function(t,a){if(e.searchFormCss=document.querySelector("section.search-holder form"),e.searchFormCss){var n="main-search-"+t,o=document.getElementById(n);o&&(o.value=a)}},e.changeRelatedLinks=function(){var t=Array.from(document.querySelectorAll(".related-search a"));t.length>0&&t.forEach(function(t){var a=t.href.replace(/\?(.)*/,"");t.href=a+e.formToQuerystring()})},e.formToQuerystring=function(){var t="",a=["search-type","search-group"],n=document.querySelector(".main_search_bar");if(n){var o=n.querySelectorAll("input"),i=[];o.length&&(o.forEach(function(t){a.indexOf(t.name)&&e.pushFiltersInput(i,t)}),i.length>0&&(t="?"+i.join("&")))}return t},e.pushFiltersInput=function(e,t){return e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)),e},e.loadPackEquivalent=function(){var e=this;this.allPackviewFilterInputs.forEach(function(t){t.addEventListener("click",function(t){var a,n=t.target,o=n.value,i=n.dataset,l=i.icontType,c=i.dropdown,s=i.stylelink,d=i.stylename,u=i.styleid,m=i.licenselink,p=i.premium,h=null==(a=document.querySelector(".pack-view__header--title span.title"))?void 0:a.textContent,f=document.querySelector("h1.pack-view__header--title i"),v=document.querySelector(".tag-field__item"),y=document.querySelector(".author .style-link"),g=document.getElementById("form-download-pack"),k=document.querySelector(".sidebar__download__buttons > div"),_=document.getElementById("pack-lincense"),w=document.querySelector(".btn-pattern"),b=document.querySelector(".pack-view .style-link a");e.handlePackEquivalentH1(h,c),e.handlePackEquivalentIcon(f,p),e.handlePackEquivalentSearchStyleItem(v,u,c),e.handlePackEquivalentHeaderBreadcrumb(y,s,c),e.handlePackEquivalentDownloadForm(g,o,p),e.handlePackEquivalentDownloadInfo(k,p,o),e.handlePackEquivalentLicense(_,p,o,m),e.handlePackEquivalentPatternButton(w,p),e.handlePackEquivalentStyle(b,s,d,u),e.handlePackEquivalentRoute(l),e.handlePackEquivalentgetIcons(o),e.doSubmit=1,e.axSearch({pushUrl:0}),r.a.callModalLicense(),r.a.callModalAttribution()})})},e.handlePackEquivalentH1=function(e,t){var a=document.querySelector(".pack-view__header--title span.title"),o=document.querySelector(".pack-view__header--title span.title-style");a&&(a.innerHTML=Object(n.a)(e)),o&&(o.innerHTML=Object(n.a)(t))},e.handlePackEquivalentIcon=function(e,t){e&&e.classList.remove("icon","icon--premium","flaticon-selection"),"1"==t&&e.classList.add("icon","icon--premium")},e.handlePackEquivalentSearchStyleItem=function(e,t,a){e&&(e.dataset.value=t,e.innerHTML=messages.filters.style+": "+a+' <span class="remove">Ã—</span>',this.setInputParameter("style_id",t))},e.handlePackEquivalentHeaderBreadcrumb=function(e,t,a){if(e&&void 0!==e){var n=e.querySelector(".style");e.href=t,n&&(n.innerHTML=a)}},e.handlePackEquivalentDownloadForm=function(e,t,a){if(null!=e&&void 0!==e){var n=document.querySelector('#form-download-pack [name="pack_id"]'),o=document.querySelector(".btn-download-pack"),i=document.querySelector('#form-download-pack [name="premium"]');n&&(n.value=t),o&&(o.dataset.pack=t),i&&(i.value=a)}},e.handlePackEquivalentDownloadInfo=function(e,t,a){if(e)if("1"==t&&!i.a.isPremium()||o.e.FeatureFlag.isEnabled("test_free_png")){var n=""+FLATICON_URL+messages.url.pricing+"/"+a;o.e.FeatureFlag.isEnabled("test_free_png")&&!i.a.isPremium()?e.innerHTML='<a href="'+n+'" class="bj-button btn btn-download-pack btn-warning fullwidth track alignc  data-track-arguments="ga, event, pack, registered-click-premium-download, '+a+'|ga, event, premium, pack-btn-download" data-pack"="'+a+'" data-premium="'+t+'" >\n                    <i class="icon icon--premium icon--premium--white"></i>\n                    <span>\n                        '+messages.common.download+"\n                    </div>\n                    </a>":i.a.isPremium()?e.innerHTML='<button class="bj-button bj-button--primary btn-download-pack track_download_pack fullwidth track" title="'+messages.common.download_pack+'" data-pack="'+a+'" data-premium="'+t+'" data-track-arguments="ga, event, download, pack">\n                        <i class="icon icon--download"></i>\n                        <span>'+messages.common.download_pack+"</span>\n                    </button>":e.innerHTML='<a href="'+n+'" class="btn btn-upgrade btn-warning alignc btn-download-pack track" data-pack="'+a+'" data-premium="'+t+'" data-track-arguments="ga, event, pack, registered-click-premium-download, '+a+'|ga, event, premium, pack-btn-download" title="'+messages.detail.download_unlimited+'" >\n                    <div class="desktop-copy">\n                        '+messages.detail.download_unlimited_info+'\n                    </div>\n                    <div class="mobile-copy">\n                        '+messages.common.premium_download+"\n                    </div>\n                    </a>"}else if("0"==t&&!i.a.isPremium())if(i.a.isLogged())e.innerHTML='<button class="bj-button bj-button--primary btn-download-pack track_download_pack fullwidth track" title="'+messages.common.download_pack+'" data-pack="'+a+'" data-premium="'+t+'" data-track-arguments="ga, event, download, pack">\n                            <i class="icon icon--download"></i>\n                            <span>'+messages.common.download_pack+"</span>\n                    </button>";else{var r=REGISTER_MIDDLEWARE_URL;e.innerHTML='<a href="'+r+'" class="bj-button bj-button--primary btn-download-pack track_download_pack fullwidth track alignc" data-track-arguments="ga, event, Register, Download pack button|ga, event, register, click, download-pack" data-pack="'+a+'" data-premium="'+t+'">\n                        <i class="icon icon--download"></i>\n                        <span>'+messages.common.register_download+"</span>\n                    </a>"}},e.handlePackEquivalentLicense=function(e,t,a,n){if(e)if("1"!=t||i.a.isPremium()){if("0"==t&&!i.a.isPremium()&&!o.e.FeatureFlag.isEnabled("test_free_png")){var r='<h6 class="font-sm mg-none medium inline-block">'+messages.detail.flaticon_license_title+"</h6>";i.a.isLogged()&&(r+='\n                    <span class="tooltip tooltip--right">\n                        <a href="'+n+'" class="tooltip__trigger tooltip__trigger--always nostyle track" data-track-arguments="ga, event, pack, download-license, '+a+'" target="_blank">\n                            <i class="icon icon--download inline-block text__general--heading mg-left-lv1 font-xs"></i>\n                        </a>\n                        <div class="tooltip__content">\n                            <div class="content">'+messages.detail.download_license+"</div>\n                        </div>\n                    </span>"),r+="\n                    <p>\n                        "+messages.detail.flaticon_license+'\n                        <a href="#" class="link--normal track modal__trigger mg-bottom-lv2" data-modal="modal-license" data-track-arguments="all, event, detail-view, click-flaticon-license, '+a+'">'+messages.detail.more_info+'</a>\n                    </p>\n                    <div class="row mg-none">\n                        <p class="mg-none mg-right-lv1-i medium attr-required">'+messages.detail.necessary_credit_author+'</p>\n                        <a class="link--normal modal__trigger track" data-type="pack" data-track-arguments="ga, event, pack, click-how-attribute, '+a+'" data-modal="modal-attribution-new">'+messages.detail.how_to_credit+"</a>\n                    </div>",e.querySelector(".license__holder").innerHTML=r}}else e.querySelector(".license__holder").innerHTML='<h6 class="font-sm mg-none medium">'+messages.detail.flaticon_premium_license+'</h6>\n                <p class="mg-none mg-top-lv1-i">'+messages.detail.flaticon_premium_license_expl+' <a href="#" class="link--normal track modal__trigger mg-bottom-lv2" data-modal="modal-license" data-track-arguments="all, event, detail-view, click-flaticon-license, '+a+'">'+messages.detail.more_info+"</a></p>"},e.handlePackEquivalentPatternButton=function(e,t){e&&("1"!=t||i.a.isPremium()?t&&!i.a.isPremium()&&(e.removeAttribute("disabled"),e.classList.remove("disabled")):(e.setAttribute("disabled","disabled"),e.classList.add("disabled")))},e.handlePackEquivalentStyle=function(e,t,a,n){if(null!=e){var o=document.querySelector(".pack-view .style-link .btn--bookmark");e.href=t,e.innerHTML=a,o&&(o.dataset.elementid=n)}},e.handlePackEquivalentRoute=function(e){"sticker"===e&&(this.packEquivalentRoute="/ajax/hex/get_stickers_by_pack_id/")},e.handlePackEquivalentgetIcons=function(e){"undefined"!=typeof GR_LANGUAGE&&["en","es"].includes(GR_LANGUAGE)?INFINITY.axScript=this.packEquivalentRoute+e:INFINITY.axScript="/"+GR_LANGUAGE+this.packEquivalentRoute+e},e.axSearch=function(e){if(1==this.doSubmit){var t;this.doSubmit=0;var a=void 0!==e.pushUrl&&null!=e.pushUrl?parseInt(e.pushUrl,10):1,n=document.getElementById("form_filters"),i={},r=[];if(INFINITY.activatedInfinity=1,INFINITY.initPage=1,a){var c=document.querySelector("section.pagination");c&&c.classList.add("hidden")}var d=this.serializeArray(n).filter(function(e){return"style"!=e.name});for(var u in d)if(d.hasOwnProperty(u)){if("0"==d[u].value||!d[u].value.length)continue;if("ec"!=d[u].name&&"all"==d[u].value)continue;if("ec_search"==d[u].name)continue;i[d[u].name]=d[u].value}for(var m in i.hasOwnProperty("color")?(1!=i.color&&delete i.stroke,"gradient"!==i.color&&"lineal-color"!==i.color&&"flat"!==i.color&&"hand-drawn"!==i.color||(i.filter_style=i.color,delete i.color)):delete i.stroke,i)r.push(m+"="+i[m]);r=r.join("&"),r=Object(l.a)(r);var p=window.location.protocol+"//"+window.location.host+window.location.pathname,h=(p=Object(l.f)(p)).split("/").pop();if("packs"==h&&"premium=1"==r||!a||Object(l.c)(p,"",r),"search"==h||"resultados"==h){var f=window.location.protocol+"//"+window.location.host+"/ajax/packs/slider?"+r;this.loadRelatedPacks(f)}INFINITY.initPage=INFINITY.topPage=INFINITY.bottomPage=1,o.e.window.scroll(0,0),INFINITY.cache_items=[],INFINITY.setUrl=!1,null==(t=document.getElementById("pagination-spinner"))||t.classList.remove("hidden"),INFINITY.infinityLoaderBtn(INFINITY.axScript,"clear"),s.a.run()}},e.loadRelatedPacks=function(e){Object(c.a)(e,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json"},withCredentials:!0}).then(function(e){var t=e.items||[],a="";if(t.length>1){var n=o.e.Handlebars.tag("pack-box");t.forEach(function(e){a+=n(e)})}if(document.querySelectorAll("section.search-pack-result").length){var i,r=document.querySelector("section.search-pack-result .box-scroll");null==(i=document.querySelector("section.search-pack-result"))||i.classList.toggle("hidden",t.length<2),r&&(r.innerHTML=a)}})},e.setDefaultMostDownloadPage=function(){window.location.pathname==messages.url.most_download&&this.orderPopularityInput&&(this.orderPopularityInput.checked=!0)},e.setDefaultLatestIconsPage=function(){window.location.pathname==messages.url.latest_icons&&this.orderDateInput&&(this.orderDateInput.checked=!0)},e.sendEventScrollSearchRelatedPack=function(){var e;null==(e=document.querySelector(".search-pack-result .box-scroll article a"))||e.addEventListener("click",function(){var e,t=null!=(e=document.querySelector(".search-pack-result div.box-scroll"))&&e.scrollLeft?1:0;ga("send","event","Search","Related Pack",t)})},e.handleFilterOrder=function(){var t=this;Array.from(document.querySelectorAll("#form_filters input")).forEach(function(a){a.addEventListener("change",function(a){var n=a.target;t.setSearchGroupFilter(n),t.setStyleFilters(n),t.setChoiceFilter(n),t.filtersTagsMatch(n),t.redirectPagesOrderDefault(n),e.changeRelatedLinks(),e.doSubmit=1,e.axSearch({})})})},e.setSearchGroupFilter=function(e){if(("search-type"==e.name||"search-group"==e.name||"type"==e.name)&&o.e.FeatureFlag.isEnabled("stickers")&&"search-group"==e.name){var t=document.querySelector("form[name=search-form] input[name=search-group]");"packs"==e.value?t.checked=!0:t.checked=!1}},e.setStyleFilters=function(e){if("style"==e.name){var t=e.dataset.style.split(","),a=Array.isArray(t),n=0;for(t=a?t:t[Symbol.iterator]();;){var o;if(a){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}var i=o;i=i.split("|"),this.setInputParameter(i[0],i[1]);var r=document.querySelector('#form_filters input[name="'+i[0]+'"]');r&&(r.value=i[1])}}else this.setInputParameter(e.name,e.value)},e.setChoiceFilter=function(e){if("choice"==e.name&&0==e.checked){var t=document.querySelector('input[name="choice"][type="hidden"]');t&&(t.value="0")}},e.filtersTagsMatch=function(e){if(e.type.match(/radio|checkbox/gi)){var t=document.querySelector(".popover-button#button-"+e.name);t&&(t.innerHTML=e.getAttribute("data-dropdown"))}},e.redirectPagesOrderDefault=function(t){if(t.checked)if(t.getAttribute("data-value")){if("order_by"==t.name){var a=document.querySelector(".dropdown-popover-order");if(e.getQueryString(),t.dataset.value&&e.redirectLastIcons(t.dataset.value),t.dataset.value&&e.redirectTopIcons(t.dataset.value),a&&"hidden"===window.getComputedStyle(a).visibility)return e.doSubmit=1,void e.axSearch({})}}else ga("send","event","Search","Flaticon Selection")},e.getQueryString=function(){this.queryString=this.queryString?this.queryString:"",window.location.search&&(this.queryString=window.location.search,this.queryString=this.queryString.replace(/order_by=(\d)*/g,"").replace(/&&/,"&").replace(/^&|&$/,"").replace(/\?&/,"?"),this.queryString=this.queryString.length>1?this.queryString:"")},e.redirectLastIcons=function(e){"date"!=e||0!=window.location.pathname.indexOf(messages.url.most_download)&&3!=window.location.pathname.indexOf(messages.url.most_download)||(window.location.href=APP_URL.replace(/\/$/g,"")+messages.url.latest_icons+this.queryString)},e.redirectTopIcons=function(e){"popularity"!=e||0!=window.location.pathname.indexOf(messages.url.latest_icons)&&3!=window.location.pathname.indexOf(messages.url.latest_icons)||(window.location.href=APP_URL.replace(/\/$/g,"")+messages.url.most_download+this.queryString)},e.queryStringToForm=function(){var e=window.location.search.slice(1).split("&"),t={},a="",i=e.filter(function(e){return-1!=e.indexOf("color")||-1!=e.indexOf("stroke")||-1!=e.indexOf("filter_style")||-1!=e.indexOf("ec_style")});e.forEach(function(e){var a=e.split("="),o=a[0],i=decodeURIComponent(a[1]||"");-1==["word","license","order_by","style_id","family_id","author_id","category_id","pack_id","type"].indexOf(a[0])&&(a[0]=decodeURIComponent(Object(n.b)(a[0])||"error"),o=Object(n.b)(a[0])),t[o]=i;var r=Array.from(document.querySelectorAll("#form_filters input[name="+o+"]"));void 0!==r&&r.length&&r.forEach(function(e){"radio"!=e.type&&"checkbox"!=e.type||e.name==o&&e.value==i&&(e.checked=!0),"hidden"==e.type&&(e.value=i)});var l=Array.from(document.querySelectorAll("form.main_search_bar input[name="+o+"]"));void 0!==l&&l.length&&l.forEach(function(e){"hidden"==e.type&&(e.value=i)})});var r={};i.forEach(function(e){e=e.split("="),r[e[0]]=decodeURIComponent(e[1]||"")}),(r.color&&r.stroke||r.color)&&(a=this.setColorType("default",r.color,r.stroke)),r.filter_style&&(a=this.setColorType(r.filter_style)),r.ec_style&&o.e.FeatureFlag.isEnabled("interface_icons")&&(a=this.setColorType(r.ec_style));var l=Array.from(document.querySelectorAll("#form_filters input[name=style]")).length>0?Array.from(document.querySelectorAll("#form_filters input[name=style]")):Array.from(document.querySelectorAll("#form_filters input[name=ec_style]"));void 0!==l&&l.length&&l.forEach(function(e){"radio"==e.type&&e.id==a&&(e.checked=!0)})},e.setCookieFlaticonSelection=function(){var e;null==(e=document.querySelector("#form_filters .premium-advise button"))||e.addEventListener("click",function(){var e=document.querySelector("#form_filters .premium-advise");d.a.setItem("flaticon_selection","1",{expires:new Date((new Date).getTime()+36e5)}),e&&(e.style.display="none")})},e.searchInPack=function(){document.getElementById("input-search-in-pack")&&document.addEventListener("DOMContentLoaded",function(){var t,a=document.getElementById("input-search-in-pack"),n=document.querySelector(".search_in_pack_wrapper .reset-input"),o=document.querySelector("#form_filters #word");null==(t=a.parentNode)||t.insertBefore(n,a.nextSibling),a.addEventListener("awesomplete-selectcomplete",function(t){var a=t.target;o&&(o.value=a.value),e.doSubmit=1,e.axSearch({})},!1),n.addEventListener("click",function(){o&&o.value.trim(),o&&(o.value=""),e.doSubmit=1,e.axSearch({})},!1),a.addEventListener("keyup",function(t){var a=t.target,i=t.keyCode||t.charCode;if(8==i||46==i){if(""==o.value.trim()&&""==a.value)return;""==a.value&&n.click()}13==i&&(o.value=a.value.trim(),e.doSubmit=1,e.axSearch({}))},!1)})},e.serializeArray=function(e){var t=[];return Array.prototype.slice.call(e.elements).forEach(function(e){!e.name||e.disabled||["file","reset","submit","button"].indexOf(e.type)>-1||("select-multiple"!==e.type?["checkbox","radio"].indexOf(e.type)>-1&&!e.checked||t.push({name:e.name,value:e.value}):Array.prototype.slice.call(e.options).forEach(function(a){a.selected&&t.push({name:e.name,value:a.value})}))}),t},e.handleSortByTitle=function(){if(document.querySelector(".sort-by")&&document.querySelector(".sort-by .popover-button span")){var e=document.querySelector(".sort-by .popover-button span");Array.from(document.querySelectorAll(".sort-by input")).forEach(function(t){t.addEventListener("change",function(t){e&&(e.innerHTML=t.target.dataset.title)})})}},e}();u.packEquivalentRoute="/ajax/hex/get_icons_by_pack_id/",u.allPackviewFilterInputs=Array.from(document.querySelectorAll(".pack-view__filters input")),u.packId=null,u.popoverEquivalentsElement=document.getElementById("popover-equivalents"),u.mainsearchStyleIdElement=document.getElementById("main-search-style_id"),u.doSubmit=1,u.searchFormCss=null,u.orderPopularityInput=document.getElementById("order_by-popularity"),u.orderDateInput=document.getElementById("order_by-date"),u.filtersInput={license:"all",color:0,stroke:0,style:"all",choice:0,styleId:null},u.setColorType=function(e,t,a){if((t&&a||t)&&("1"===t&&"1"===a&&(e="strokeFilled"),"1"===t&&"2"===a&&(e="strokeLinear"),"2"===t&&(e="colorMulticolor")),e.includes("-")){var o=e.split("-");o[1]=Object(n.a)(o[1]),e=o.join("")}return{gradient:"style-gradient",linealColor:"style-linealColor",flat:"style-flat",handDrawn:"style-handDrawn",light:"light",outline:"outline",solid:"solid",strokeFilled:"stroke-filled",strokeLinear:"stroke-linear",colorMulticolor:"color-multicor",default:"all"}[e]}}}]);
//# sourceMappingURL=26.28595802a4cab05190f6.js.map