(self.AMP=self.AMP||[]).push({n:"amp-fx-flying-carpet",ev:"0.1",l:true,v:"2107170150000",m:0,f:function(AMP,_){"use strict";var g,h="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function k(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}k(this);"function"===typeof Symbol&&Symbol("x");var l;if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var p={a:!0},q={};try{q.__proto__=p;m=q.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var t,r=l;
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */function u(a,b){var c=[];for(a=a.firstElementChild;a;a=a.nextElementSibling)b(a)&&c.push(a);return c}function v(a,b){var c=[];for(a=a.firstChild;a;a=a.nextSibling)b(a)&&c.push(a);return c}function w(a){return v(a,(function(b){return!x(b)}))}function y(a){return u(a,(function(b){return!x(b)}))}function x(a){if("string"==typeof a)var b=a;else a.nodeType===Node.ELEMENT_NODE&&(b=a.tagName);return b&&b.toLowerCase().startsWith("i-")?!0:a.nodeType!==Node.ELEMENT_NODE?!1:a.hasAttribute("placeholder")||a.hasAttribute("fallback")||a.hasAttribute("overflow")}var z=self.AMP_CONFIG||{},A=("string"==typeof z.cdnProxyRegex?new RegExp(z.cdnProxyRegex):z.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function B(a){if(self.document&&self.document.head&&(!self.location||!A.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}z.cdnUrl||B("runtime-host");z.geoApiUrl||B("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var C=self.__AMP_LOG;function D(a,b,c,d,e){if(!C.user)throw Error("failed to call initLogConstructor");C.user.assert(a,b,c,d,e,void 0,void 0,void 0,void 0,void 0,void 0)}function E(a){var b=F(a);b=F(b);b=b.isSingleDoc()?b.win:b;return G(b,"owners")}function F(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=G(b,"ampdoc").getAmpDoc(a)}return a}function G(a,b){var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}var H,I="Webkit webkit Moz moz ms O o".split(" ");function J(a){a=AMP.BaseElement.call(this,a)||this;a.h=[];a.j=0;a.o=null;a.A=!1;return a}var K=AMP.BaseElement;J.prototype=h(K.prototype);J.prototype.constructor=J;if(r)r(J,K);else for(var L in K)if("prototype"!=L)if(Object.defineProperties){var M=Object.getOwnPropertyDescriptor(K,L);M&&Object.defineProperty(J,L,M)}else J[L]=K[L];J.C=K.prototype;g=J.prototype;g.isLayoutSupported=function(a){return"fixed-height"==a};g.isRelayoutNeeded=function(){return!0};g.buildCallback=function(){var a=this,b=this.element.ownerDocument,c=b.createElement("div");this.h=y(this.element);this.o=c;var d=w(this.element);this.j=N(d).length;var e=E(this.element);this.h.forEach((function(n){return e.setOwner(n,a.element)}));var f=b.createElement("div");f.setAttribute("class","i-amphtml-fx-flying-carpet-clip");c.setAttribute("class","i-amphtml-fx-flying-carpet-container");d.forEach((function(n){return c.appendChild(n)}));f.appendChild(c);this.element.appendChild(f);this.getViewport().addToFixedLayer(c,!1)};g.layoutCallback=function(){if(!this.A){try{var a=this.element.getLayoutBox(),b=this.getViewport(),c=b.getHeight(),d=b.getScrollHeight();b=.75*c;c=d-.95*c;D(a.top>=b,"<amp-fx-flying-carpet> elements must be positioned after the 75% of first viewport: %s Current position: %s. Min: %s",this.element,a.top,b);D(a.top<=c,"<amp-fx-flying-carpet> elements must be positioned before the last viewport: %s Current position: %s. Max: %s",this.element,a.top,c)}catch(n){throw this.collapse(),n}this.A=!0}c=this.element.getLayoutSize().width;a=this.o;d=a.style;if("width".startsWith("--"))d="width";else{H||(H=Object.create(null));b=H.width;if(!b){b="width";if(void 0===d.width){var e;b:{for(e=0;e<I.length;e++){var f=I[e]+"Width";if(void 0!==d[f]){e=f;break b}}e=""}void 0!==d[e]&&(b=e)}H.width=b}d=b}d&&(c+="px",d.startsWith("--")?a.style.setProperty(d,c):a.style[d]=c);E(this.element).scheduleLayout(this.element,this.h);O(this);t||(t=Promise.resolve(void 0));a=t;return a};function O(a){new MutationObserver((function(b){for(var c=0;c<b.length;c++){var d=b[c].addedNodes;if(d)for(var e=0;e<d.length;e++){var f=d[e];f.signals&&f.signals().whenSignal("built").then(a.B.bind(a,f))}}})).observe(a.element,{childList:!0,subtree:!0})}g.B=function(a){a.getOwner()===this.element&&E(this.element).scheduleLayout(this.element,a)};g.collapsedCallback=function(a){a=this.h.indexOf(a);if(-1<a&&(this.h.splice(a,1),this.j--,0==this.j))return this.attemptCollapse().catch((function(){}))};g.getChildren=function(){return this.h};function N(a){return a.filter((function(b){return 1===b.nodeType?!0:3===b.nodeType?/\S/.test(b.textContent):!1}))}(function(a){a.registerElement("amp-fx-flying-carpet",J,"amp-fx-flying-carpet{position:relative!important;box-sizing:border-box!important}amp-fx-flying-carpet>.i-amphtml-fx-flying-carpet-clip{position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important;border:0!important;margin:0!important;padding:0!important;clip:rect(0,auto,auto,0)!important;-webkit-clip-path:polygon(0px 0px,100% 0px,100% 100%,0px 100%)!important;clip-path:polygon(0px 0px,100% 0px,100% 100%,0px 100%)!important}amp-fx-flying-carpet>.i-amphtml-fx-flying-carpet-clip>.i-amphtml-fx-flying-carpet-container{position:fixed!important;top:0!important;width:100%;height:100%;-webkit-transform:translateZ(0)!important;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.i-amphtml-fx-flying-carpet-container>.i-amphtml-layout-fixed-height,.i-amphtml-fx-flying-carpet-container>.i-amphtml-layout-responsive{-ms-flex-item-align:stretch;align-self:stretch}\n/*# sourceURL=/extensions/amp-fx-flying-carpet/0.1/amp-fx-flying-carpet.css*/")})(self.AMP)}});//# sourceMappingURL=amp-fx-flying-carpet-0.1.js.map